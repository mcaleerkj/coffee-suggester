version: '3.8'

# Simpler deployment using SQLite
# Use this for smaller deployments or testing

services:
  app:
    build:
      context: .
      dockerfile: Dockerfile.sqlite
    ports:
      - "3000:3000"
    environment:
      - DATABASE_URL=file:/app/data/coffee.db
      - ADMIN_PASSWORD=${ADMIN_PASSWORD:-admin123}
      - NEXT_PUBLIC_APP_URL=${NEXT_PUBLIC_APP_URL:-http://localhost:3000}
      - CAFE_SEARCH_RATE_LIMIT=30
      - CAFE_CACHE_DURATION=3600
    volumes:
      - sqlite_data:/app/data
    restart: unless-stopped

volumes:
  sqlite_data:
